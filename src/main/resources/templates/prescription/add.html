<html lang="en" layout:decorator="/layout" ng-app="ciTrackApp">
<head>
</head>
<body ng-controller="PrescriptionController">
	<div layout:fragment="sidebar">
		<h2>Side bar</h2>
	</div>
	<div layout:fragment="content">
		<h3>Add Prescription</h3>
		 
		<!--  -->
		<form class="form-horizontal" name="textFieldForm" ng-submit="submit(textFieldForm);addPrescription(prescription, textFieldForm)">
		  <div th:replace="/message/validation.error.message :: validationErrorMessage" />
		  <!-- <div class="form-group">
		    <label for="address" class="col-sm-2 control-label">Description</label>
		    <div class="col-sm-10">
		      <ci-text-field placeholder="Enter address"  ng-model="patient.address" name="address"/>
		      <ci-text-area placeholder="Enter description"  ng-model="prescription.description" name="description" rows="3" cols="20" errormessage="descriptionErrorMessage" />
		    </div>
		  </div>
		  <div class="form-group">
		    <label for="firstName" class="col-sm-2 control-label">Doses</label>
		    <div class="col-sm-10">
		      <ci-text-field placeholder="Enter doses (e.g. 1+0+1)"  ng-model="prescription.dose" 
		      name="dose" errormessage="doseErrorMessage" />
		    </div>
		  </div>
		  
		  <div class="form-group">
		    <div class="col-sm-offset-2 col-sm-10">
		      <button type="submit" class="btn btn-default" >ADD</button>
		    </div>
		    
		  </div> -->
		  <table class="table">
			    <tr>
			    	<th>Description</th>
			    	<th>Dose</th>
			    	<th></th>
			    </tr>
			    <tr ng-repeat="pres in prescriptionItem">
			    	<td>
			    		<ci-text-field placeholder="Medication description"  ng-model="pres.description" name="description" />
			    	</td>
			    	<td>
			    		<label class="radio-inline">
						  <input type="radio" name="doseOptions{{$index}}" id="doseOptions111" ng-model="pres.dose" value="1+1+1" /> 1+1+1
						</label>
						<label class="radio-inline">
						  <input type="radio" name="doseOptions{{$index}}" id="doseOptions101"  ng-model="pres.dose" value="1+0+1" /> 1+0+1
						</label>
						<label class="radio-inline">
						  <input type="radio" name="doseOptions{{$index}}" id="doseOptions100" ng-model="pres.dose" value="1+0+0" /> 1+0+0
						</label>
						<label class="radio-inline">
						  <input type="radio" name="doseOptions{{$index}}" id="doseOptions010" ng-model="pres.dose" value="0+1+0" /> 0+1+0
						</label>
						<label class="radio-inline">
						  <input type="radio" name="doseOptions{{$index}}" id="doseOptions001" ng-model="pres.dose" value="0+0+1" /> 0+0+1
						</label>
						<label class="radio-inline">
						  <input type="radio" name="doseOptions{{$index}}" id="doseOptionsOthers" ng-model="pres.dose" value="others" /> others
						</label>
						<label class="radio-inline" ng-if="pres.dose=='others'">
							<input type="text" name="doseOthers{{$index}}" id="doseOthers" ng-model="pres.others"  />
						</label>
			    	</td>
			    	<td>
			    		<button ng-if="$index+1 == prescriptionItem.length" ng-click="addMoreMedication()" type="submit" class="btn btn-default" >More >></button>
			    	</td>
			    </tr>
		    </table>
		</form>
		<script th:src="@{/custom/js/prescriptionController.js}"></script>
	</div>
</body>
</html>